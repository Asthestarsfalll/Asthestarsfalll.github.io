---
title: Computer Music
authors:
  - Asthestarsfalll
tags: []
description: 计算机音乐是一个涉及范围广泛的方向，而近年研究热点是人工智能与音乐的结合。本文主要介绍机器学习在音乐方面的应用。
hide_table_of_contents: false
---

# 音乐与计算

## 音乐离不开计算

首先给出很重要的图：

   <img src="/images/2022/03/27/20210507180214.png" style= {{zoom:"50%"}} />

我们可以看到 mi 和 fa 是半音关系，si 和 do 也是半音关系，纯五度需要间隔 7 个半音，纯四度需要间隔 5 个半音。

1. 十二平均律：在中国又被称作“三分损益法，五度相生率“

   1. **三分损益**：将某个音定为基音，假设该音由一弦发出，“损”指将弦分为三份取其中两份，**新弦长与原弦长比为 2:3**，即可得到基音上方纯五度音（即比基音频率高），“益”指将其分为三份，增加一份，**新弦长与原弦长比为 4:3**，即可得到基音下方纯四度音。因此我们只要不断重复“损”，“增”，便可以得到一个八度内的全音，如图：

   <img src="/images/2022/03/27/20210507180216.png" style={{zoom:"50%"}} />

    我们可以依次得到如下图所示的音

   <img src="/images/2022/03/27/20210507180220.jpg" style={{zoom:"50%"}} />

   2. **五度相生**：即在**新弦长与原弦长的比为 1:2**时，可得到基音上方八度音。

   这看起来似乎十分完美，但是注意我们通过 do 上方纯八度的 do，然而 2/1 不可能是 3/2 的整数次方，也就是说，**通过五度相生律得到的 do 和实际的 do 有区别**，因此我们引入了十二平均律。

    3. **十二平均律**：我们使用公式来表示不同音之间的频率关系：

       $$
       2^{\frac{x}{12}}
       
       
       
       $$

    4. 纯律：在泛音列的基础上生成的音律，在分音列的第二分音和第三分音之间，加入第五分音，构成大三和弦的形式，依次找出所有的半音

   三者不同:  www.zhihu.com/question/310624478

   <img src="/images/2022/03/27/20210508164702.jpg" alt="img" style={{zoom:"50%"}} />

   五度相生律：

   ![img](/images/2022/03/27/20210508164720.gif)

   十二平均律：

   <img src="/images/2022/03/27/20210508164731.jpg" alt="img" style={{zoom:"50%"}} />

   最后，让我们看一下 31 平均律：

   ![img](/images/2022/03/27/20210508164802.jpg)

## 计算机在音乐方面的应用

<img src="/images/2022/03/27/20210507180225.png" style={{zoom:"50%"}} />

### 计算机听觉（基于内容的音乐检索）

1. 音乐指纹

   - 将音乐通过内容进行编码，方法如下

     <img src="/images/2022/03/27/20210507180231.png" style={{zoom:"50%"}} />

     取一系列窗口进行短时傅里叶变换，ABS 去除相位，将其按照频率分为不同的 band，$\sum x^2$ 求出其能量值，最后进行编码。

     实现细节

     <img src="/images/2022/03/27/20210507180235.png" style={{zoom:"50%"}} />

     Hop size：两个窗口之间的间隔，越短越能保证在任意时刻检索的准确性。

     bands：按照人类听觉范围划分为 33 个 bands。

     该算法鲁棒性极高，即使信噪比为负，其匹配率也大于 0.58。

2. 哼唱检索

   <img src="/images/2022/03/27/20210507180239.png" style={{zoom:"50%"}} />

   难点：部分匹配（不哼唱整首歌），模糊匹配（哼唱和唱不一样），跑调。

3. 风格分析

   <img src="/images/2022/03/27/20210507180244.png" style={{zoom:"50%"}} />

   通过 x（已知特征）和 y（输入）的联合概率和 y 的先验概率（这类音乐占总音乐的概率），通过贝叶斯定理即可求出 y 为何种风格的概率。

   有哪些特征

   <img src="/images/2022/03/27/20210507180250.png" style={{zoom:"50%"}} />

   Chroma

   <img src="/images/2022/03/27/20210507180254.png" style={{zoom:"67%"}} />

   2. 计算机作曲

      通过分形进行作曲

      <img src="/images/2022/03/27/20210507180258.png" style={{zoom:"50%"}} />

      马尔可夫方法

      <img src="/images/2022/03/27/20210507180302.png" style={{zoom:"50%"}} />

      [WaveNet](https://zhuanlan.zhihu.com/p/28849767)

      通过排序算法作曲

      通过对音符进行切分重组作曲

4. [音乐指挥](https://www.youtube.com/watch?v=dPeh3XVlmlE)
